{"version":3,"sources":["webpack:///static/js/classwin-editor.js","webpack:///./src/components/Editor.vue?898c*","webpack:///./src/components/modules/equationEditor/index.js?3e97","webpack:///./src/components/modules/graph/index.js?6b9e","webpack:///editor.vue?8199","webpack:///Editor.vue?f71a","webpack:///./src/components/Editor.vue?46ae*","webpack:///./~/vue-quill-editor/src/editor.vue?2d53*","webpack:///./~/vue-quill-editor/src/editor.vue?7773*","webpack:///./src/classwin-editor.js"],"names":["webpackJsonp","105","module","exports","__webpack_require__","injectStyle","ssrContext","Component","106","__webpack_exports__","findAncestor","el","cls","parentElement","classList","contains","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3_quill__","__WEBPACK_IMPORTED_MODULE_3_quill___default","EquationEditor","quill","options","this","self","root","addEventListener","handleClick","bind","parentNode","style","position","handler","theme","modules","toolbar","handlers","formula","prompt","key","value","curValue","then","range","getSelection","index","length","insertEmbed","insertText","setSelection","a","resolve","catch","e","console","log","reject","evt","formularObj","target","isFormula","isEnabled","hide","show","getIndex","find","getAttribute","deleteText","window","Quill","register","107","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get___default","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_7_quill__","__WEBPACK_IMPORTED_MODULE_7_quill___default","__WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot__","__WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot___default","Embed","import","Module","GraphBlot","_Embed","__proto__","apply","arguments","width","undefined","height","node","domNode","data","fn","sampler","graphType","err","display","setAttribute","blotName","className","tagName","Graph","_Module","_this2","call","graph","graphObj","isGraph","108","Object","defineProperty","name","_content","defaultModules","header","list","script","indent","direction","size","color","background","font","align","props","content","String","disabled","Boolean","type","required","default","mounted","initialize","beforeDestroy","methods","$el","boundary","document","body","placeholder","readOnly","$refs","editor","pasteHTML","on","$emit","delta","oldDelta","source","html","children","innerHTML","text","getText","watch","newVal","oldVal","setText","enable","109","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_quill__","__WEBPACK_IMPORTED_MODULE_2_quill___default","__WEBPACK_IMPORTED_MODULE_3_katex__","__WEBPACK_IMPORTED_MODULE_3_katex___default","__WEBPACK_IMPORTED_MODULE_4__modules_equationEditor__","__WEBPACK_IMPORTED_MODULE_5__modules_graph__","__WEBPACK_IMPORTED_MODULE_6_quill_image_drop_module_image_drop_min_js__","__WEBPACK_IMPORTED_MODULE_7_katex_dist_katex_min_css__","__WEBPACK_IMPORTED_MODULE_8_font_awesome_css_font_awesome_css__","__WEBPACK_IMPORTED_MODULE_9_vue_quill_editor__","katex","uuid","replace","c","r","Math","random","toString","imageDrop","container","components","quillEditor","updateEditor","getContents","JSON","parse","setContents","125","126","127","128","129","130","131","155","render","_vm","_h","$createElement","_c","_self","ref","class","quill-readonly","attrs","staticClass","id","slot","_v","staticRenderFns","156","_t","264","269","__WEBPACK_IMPORTED_MODULE_0__components_Editor__","__WEBPACK_IMPORTED_MODULE_0__components_Editor___default"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACAF,EAAA,KAEA,GAAAG,GAAAH,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEAC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUMK,IACA,SAAUN,EAAQO,EAAqBL,GAE7C,YE5BA,SAASM,GAAcC,EAAIC,GACzB,MAAQD,EAAKA,EAAGE,iBAAmBF,EAAGG,UAAUC,SAASH,KAEzD,MAAOD,GF0BY,GAAIK,GAA8DZ,EAAoB,IAClFa,EAAsEb,EAAoBc,EAAEF,GAC5FG,EAAqEf,EAAoB,IACzFgB,EAA6EhB,EAAoBc,EAAEC,GACnGE,EAAkEjB,EAAoB,IACtFkB,EAA0ElB,EAAoBc,EAAEG,GAChGE,EAAsCnB,EAAoB,IAC1DoB,EAA8CpB,EAAoBc,EAAEK,GE9BxEE,EFwCA,WEvCnB,QAAAA,GAAaC,EAAOC,GAASP,IAAAQ,KAAAH,GAC3BE,EAAUA,KACV,IAAIE,GAAOD,IACXA,MAAKF,MAAQA,EACbE,KAAKF,MAAMI,KAAKC,iBAAiB,QAASH,KAAKI,YAAYC,KAAKL,OAAO,GACvEA,KAAKF,MAAMI,KAAKI,WAAWC,MAAMC,SAAWR,KAAKF,MAAMI,KAAKI,WAAWC,MAAMC,UAAY,WAEzFR,KAAKS,QAAUV,EAAQU,QACvBT,KAAKF,MAAMY,MAAMC,QAAQC,QAAQC,SAASC,QAAU,WAClDb,EAAKc,UF8GT,MAhEArB,KAA0EG,IACxEmB,IAAK,SACLC,MAAO,SE7CDC,GACNA,EAAWA,GAAY,EACvB,IAAIjB,GAAOD,IACX,OAAOA,MAAKS,QAAQS,GAAUC,KAAK,SAACF,GAClC,GAAIG,GAAQnB,EAAKH,MAAMuB,cAAa,EACpC,IAAa,MAATD,EAAe,CACjB,GAAIE,GAAQF,EAAME,MAAQF,EAAMG,MAIhC,OAHAtB,GAAKH,MAAM0B,YAAYF,EAAO,UAAWL,EAAO,QAChDhB,EAAKH,MAAM2B,WAAWH,EAAQ,EAAG,IAAK,QACtCrB,EAAKH,MAAM4B,aAAaJ,EAAQ,EAAG,QAC5BjC,EAAAsC,EAAQC,QAAQX,MAExBY,MAAM,SAACC,GAGR,MADAC,SAAQC,IAAIF,GACLzC,EAAAsC,EAAQM,OAAOH,QFiDxBd,IAAK,cACLC,MAAO,SE/CIiB,GACX,GAAIjC,GAAOD,KACPmC,EAAcrD,EAAaoD,EAAIE,OAAQ,cACvCC,EAA4B,OAAhBF,CACZD,GAAIE,QAAUC,GAAapC,EAAKH,MAAMwC,aACpCtC,KAAKmC,aAEPnC,KAAKuC,OAGPvC,KAAKwC,KAAKL,IACDnC,KAAKmC,aAEdnC,KAAKuC,UFmDPvB,IAAK,OACLC,MAAO,SEjDHmB,GACJ,GAAInC,GAAOD,IACXA,MAAKmC,YAAcC,CAGnB,IAAId,GAAQrB,EAAKH,MAAM2C,SAAS7C,EAAA+B,EAAMe,KAAKzC,EAAKkC,cAAgB,CAChElC,GAAKH,MAAM4B,aAAaJ,EAAO,GAC/BtB,KAAKe,OAAOqB,EAAOO,aAAa,eAAexB,KAAK,WAClDlB,EAAKH,MAAM8C,WAAWtB,EAAQ,EAAG,GACjCrB,EAAKH,MAAM8C,WAAWtB,EAAQ,EAAG,KAChCO,MAAM,SAACC,GACRC,QAAQC,IAAIF,QFuDdd,IAAK,OACLC,MAAO,SEnDHmB,SAEGpC,MAAKmC,gBFuDPtC,IAGoBhB,GAAuB,EAAI,EEvDpDgE,OAAOC,OACTD,OAAOC,MAAMC,SAAS,yBAA0BlD,IF8D5CmD,IACA,SAAU1E,EAAQO,EAAqBL,GAE7C,YGtIA,SAASM,GAAcC,EAAIC,GACzB,MAAQD,EAAKA,EAAGE,iBAAmBF,EAAGG,UAAUC,SAASH,KAEzD,MAAOD,GHoIY,GAAIK,GAA8DZ,EAAoB,IAClFa,EAAsEb,EAAoBc,EAAEF,GAC5F6D,EAA8EzE,EAAoB,KAClG0E,EAAsF1E,EAAoBc,EAAE2D,GAC5GE,EAAqE3E,EAAoB,IACzF4E,EAA6E5E,EAAoBc,EAAE6D,GACnGE,EAAkE7E,EAAoB,IACtF8E,EAA0E9E,EAAoBc,EAAE+D,GAChGE,EAAgF/E,EAAoB,KACpGgF,EAAwFhF,EAAoBc,EAAEiE,GAC9GE,EAA0DjF,EAAoB,KAC9EkF,EAAkElF,EAAoBc,EAAEmE,GACxFE,EAA+DnF,EAAoB,KACnFoF,EAAuEpF,EAAoBc,EAAEqE,GAC7FE,EAAsCrF,EAAoB,IAC1DsF,EAA8CtF,EAAoBc,EAAEuE,GACpEE,EAA6FvF,EAAoB,KACjHwF,EAAqGxF,EAAoBc,EAAEyE,GG7JhJE,EAAQH,EAAAnC,EAAMuC,OAAO,eACrBC,EAASL,EAAAnC,EAAMuC,OAAO,cACdJ,GAAAnC,EAAMuC,OAAO,YACzB,MAAiB,qDH8KjB,IGvKME,GHuKU,SAAUC,GAGxB,QAASD,KAGP,MAFAhB,KAA6EpD,KAAMoE,GAE5EZ,IAAwFxD,MAAOoE,EAAUE,WAAapB,IAAsFkB,IAAYG,MAAMvE,KAAMwE,YAiE7O,MAtEAZ,KAAuEQ,EAAWC,GAQlFf,IAA0Ec,IACxEpD,IAAK,QACLC,MAAO,WGpJP,MAAO,MHwJPD,IAAK,SACLC,MAAO,WGvJ0B,GAA3BwD,GAA2BD,UAAAjD,OAAA,OAAAmD,KAAAF,UAAA,GAAAA,UAAA,GAAnB,IAAKG,EAAcH,UAAAjD,OAAA,OAAAmD,KAAAF,UAAA,GAAAA,UAAA,GAAL,IACxBI,EAAO5E,KAAK6E,QACZ5D,EAAQjB,KAAK6E,QAAQlC,aAAa,aACtCZ,SAAQC,IAAI4C,GACZ7C,QAAQC,IAAIf,EACZ,KACE+C,KACE5B,OAAQwC,EACRE,OACEC,GAAI9D,EACJ+D,QAAS,UACTC,UAAW,WACXR,QACAE,aAGJ,MAAOO,GACPnD,QAAQC,IAAIkD,SH8JdlE,IAAK,SACLC,MAAO,SG/MMA,GACb,GAAI2D,GAAAlB,IAAAkB,aAAA1B,IAAA0B,4BAAoB3D,EAExB,IADA2D,EAAKrE,MAAM4E,QAAU,eACA,gBAAVlE,GAAoB,CAC7B,IACE+C,KACE5B,OAAQwC,EACRH,MAAO,IACPE,OAAQ,IACRG,OACEC,GAAI9D,EACJ+D,QAAS,UACTC,UAAW,eAGf,MAAOC,GACPnD,QAAQC,IAAIkD,GAEdN,EAAKQ,aAAa,aAAcnE,GAGlC,MADA2D,GAAKQ,aAAa,mBAAmB,GAC9BR,KHkNP5D,IAAK,QACLC,MAAO,SGhNK4D,GACZ,MAAOA,GAAQlC,aAAa,kBHoNvByB,GG9OeH,EAqDxBG,GAAUiB,SAAW,QACrBjB,EAAUkB,UAAY,WACtBlB,EAAUmB,QAAU,MH8LpB,IG5LqBC,GH4LT,SAAUC,GG3LpB,QAAAD,GAAa1F,EAAOC,GAASqD,IAAApD,KAAAwF,GAC3BzF,EAAUA,KADiB,IAAA2F,GAAAlC,IAAAxD,MAAAwF,EAAAlB,WAAApB,IAAAsC,IAAAG,KAAA3F,KAErBF,EAAOC,IACTE,GAHuB,OAI3ByF,GAAK5F,MAAQA,EACb4F,EAAK3F,QAAUA,EACf2F,EAAK5F,MAAMI,KAAKC,iBAAiB,QAASuF,EAAKtF,YAAYC,KAAjBqF,IAA6B,GACvEA,EAAKjF,QAAUV,EAAQU,QACvBiF,EAAK5F,MAAMY,MAAMC,QAAQC,QAAQC,SAAS+E,MAAQ,WAChD3F,EAAKc,UAToB2E,EHwR7B,MA5FA9B,KAAuE4B,EAAOC,GAoB9EnC,IAA0EkC,IACxExE,IAAK,OACLC,MAAO,SGlMHmB,GACJ,GAAInC,GAAOD,IACXA,MAAK6F,SAAWzD,CAGhB,IAAId,GAAQrB,EAAKH,MAAM2C,SAASqB,EAAAnC,EAAMe,KAAKzC,EAAK4F,WAAa,CAC7D5F,GAAKH,MAAM4B,aAAaJ,EAAO,GAC/BtB,KAAKe,OAAOqB,EAAOO,aAAa,eAAexB,KAAK,WAClDlB,EAAKH,MAAM8C,WAAWtB,EAAQ,EAAG,GACjCrB,EAAKH,MAAM8C,WAAWtB,EAAQ,EAAG,KAChCO,MAAM,SAACC,GACRC,QAAQC,IAAIF,QHuMdd,IAAK,OACLC,MAAO,SGpMHmB,OHwMJpB,IAAK,SACLC,MAAO,SGtMDC,GACNA,EAAWA,GAAY,EACvB,IAAIjB,GAAOD,IACX,OAAOA,MAAKS,QAAQS,GAAUC,KAAK,SAACF,GAClC,GAAIG,GAAQnB,EAAKH,MAAMuB,cAAa,EACpC,IAAa,MAATD,EAAe,CACjB,GAAIE,GAAQF,EAAME,MAAQF,EAAMG,MAIhC,OAHAtB,GAAKH,MAAM0B,YAAYF,EAAO,QAASL,EAAO,QAC9ChB,EAAKH,MAAM2B,WAAWH,EAAQ,EAAG,IAAK,QACtCrB,EAAKH,MAAM4B,aAAaJ,EAAQ,EAAG,QAC5BjC,EAAAsC,EAAQC,QAAQX,MAExBY,MAAM,SAACC,GAGR,MADAC,SAAQC,IAAIF,GACLzC,EAAAsC,EAAQM,OAAOH,QH0MxBd,IAAK,cACLC,MAAO,SGxMIiB,GACX,GAAIjC,GAAOD,KACP6F,EAAW/G,EAAaoD,EAAIE,OAAQ,YACpC0D,EAAuB,OAAbD,CACd,IAAI3D,EAAIE,QAAU0D,GAAW7F,EAAKH,MAAMwC,YAAa,CACnD,GAAItC,KAAK6F,WAAaC,EAEpB,MAEE9F,MAAK6F,UAEP7F,KAAKuC,OAGPvC,KAAKwC,KAAKqD,OACD7F,MAAK6F,UAEd7F,KAAKuC,YH4MPvB,IAAK,WACLC,MAAO,WGrQPc,QAAQC,IAAI,oBACZ8B,EAAAnC,EAAMoB,SAASqB,GAAW,OH0QrBoB,GGzR0BrB,EH4RNtF,GAAuB,EAAI,EGlNpDgE,OAAOC,OACTD,OAAOC,MAAMC,SAAS,gBAAiByC,IHyNnCO,IACA,SAAUzH,EAAQO,EAAqBL,GAE7C,YACAwH,QAAOC,eAAepH,EAAqB,cAAgBoC,OAAO,IIrWlEzC,EAAA,KACAA,EAAA,KACAA,EAAA,KACAqE,OAAAC,QJ+WED,OAAOC,MAAQtE,EI7WjB,KACAK,EAAA,SJ+WEqH,KI7WF,eJ8WEpB,KAAM,WACJ,OACEqB,SI7WN,GJ8WMC,gBACExF,UI7WR,4BACA,wBACA,gBAAAyF,OAAA,IAAAA,OACA,MAAAC,KAAA,YAAAA,KACA,aAAAC,OAAA,QAAAA,OACA,YAAAC,OAAA,OAAAA,OACA,SAAAC,UACA,UAAAC,MAAA,mBACA,YAAAL,QAAA,aACA,OAAAM,WAAAC,kBACAC,YACAC,YAEA,yBAIA,aJiWEC,OACEC,QI/VJC,OJgWIhG,MI/VJgG,OJgWIC,SI/VJC,QJgWIpH,SACEqH,KI/VNpB,OJgWMqB,UI/VN,EJgWMC,QAAS,WACP,YAINC,QAAS,WACPvH,KI/VJwH,cJiWEC,cAAe,WACbzH,KAAKF,MI/VT,MJkWE4H,SACEF,WAAY,WACV,GAAIxH,KAAK2H,II/Vf,CJkWQ,GAAI1H,GIhWZD,IJiWQC,GAAKF,QAAQW,MAAQT,EAAKF,QAAQW,OIhW1C,OJiWQT,EAAKF,QAAQ6H,SAAW3H,EAAKF,QAAQ6H,UAAYC,SIhWzDC,KJiWQ7H,EAAKF,QAAQY,QAAUV,EAAKF,QAAQY,SAAWV,EIhWvDmG,eJiWQnG,EAAKF,QAAQY,QAAQC,YIhW7B8D,KJgWuCzE,EAAKF,QAAQY,QAAQC,QIhW5DX,EAAAF,QAAAY,QACAC,QAAAX,EAAAmG,eACAxF,QJ+VQX,EAAKF,QAAQgI,YAAc9H,EAAKF,QAAQgI,aI9VhD,uBJ+VQ9H,EAAKF,QAAQiI,aAAqCtD,KAA1BzE,EAAKF,QAAQiI,UAAyB/H,EAAKF,QAAQiI,SAC3E/H,EAAKH,MAAQ,GAAIgD,OAAM7C,EAAKgI,MAAMC,OAAQjI,EI7VlDF,UJgWYE,EAAKgB,OAAShB,EAAK+G,UACrB/G,EAAKH,MAAMqI,UAAUlI,EAAKgB,OAAShB,EI9V7C+G,SJkWQ/G,EAAKH,MAAMsI,GAAG,mBAAoB,SAAUhH,GACrCA,EAGHnB,EAAKoI,MAAM,QAASpI,EI9VhCH,OJ4VYG,EAAKoI,MAAM,OAAQpI,EI9V/BH,SJqWQG,EAAKH,MAAMsI,GAAG,cAAe,SAAUE,EAAOC,EAAUC,GACtD,GAAIC,GAAOxI,EAAKgI,MAAMC,OAAOQ,SAAS,GI9VhDC,UJ+VcC,EAAO3I,EAAKH,MI9V1B+I,SJ+VuB,iBAATJ,IAAwBA,EI9VtC,IJ+VUxI,EAAKkG,SI9VfsC,EJ+VUxI,EAAKoI,MAAM,QAASpI,EI9V9BkG,UJ+VUlG,EAAKoI,MAAM,UACTH,OAAQjI,EI9VpBH,MJ+VY2I,KI9VZA,EJ+VYG,KI7VZA,MJkWQ3I,EAAKoI,MAAM,QAASpI,EI9V5BH,UJkWEgJ,OACE9B,QAAW,SAAiB+B,EAAQC,GAC9BhJ,KAAKF,QACDiJ,GAAUA,IAAW/I,KAAKmG,UAC9BnG,KAAKmG,SI9Vf4C,EJ+VU/I,KAAKF,MAAMqI,UI9VrBY,IJ+VoBA,GACV/I,KAAKF,MAAMmJ,QI9VrB,MJkWIhI,MAAS,SAAe8H,EAAQC,GAC1BhJ,KAAKF,QACDiJ,GAAUA,IAAW/I,KAAKmG,UAC9BnG,KAAKmG,SI9Vf4C,EJ+VU/I,KAAKF,MAAMqI,UI9VrBY,IJ+VoBA,GACV/I,KAAKF,MAAMmJ,QI9VrB,MJkWI/B,SAAY,SAAkB6B,EAAQC,GAChChJ,KAAKF,OACPE,KAAKF,MAAMoJ,QI9VnBH,OJsWMI,IACA,SAAU7K,EAAQO,EAAqBL,GAE7C,YACAwH,QAAOC,eAAepH,EAAqB,cAAgBoC,OAAO,GAC7C,IAAImI,GAAqE5K,EAAoB,KACzF6K,EAA6E7K,EAAoBc,EAAE8J,GACnGE,EAA8D9K,EAAoB,IAClF+K,EAAsE/K,EAAoBc,EAAEgK,GAC5FE,EAAsChL,EAAoB,IAC1DiL,EAA8CjL,EAAoBc,EAAEkK,GACpEE,EAAsClL,EAAoB,KAC1DmL,EAA8CnL,EAAoBc,EAAEoK,GACpEE,EAAwDpL,EAAoB,KAC5EqL,EAA+CrL,EAAoB,KACnEsL,EAA0EtL,EAAoB,KAE9FuL,GADkFvL,EAAoBc,EAAEwK,GAC/CtL,EAAoB,MAE7EwL,GADiExL,EAAoBc,EAAEyK,GACrBvL,EAAoB,MAEtFyL,GAD0EzL,EAAoBc,EAAE0K,GAC/CxL,EAAoB,KACZA,GAAoBc,EAAE2K,EKnexGpH,QAAAqH,MAAAP,EAAAhI,EAMA8H,EAAA9H,EAAAoB,SAAA,yBAAA6G,EAAA,GACAH,EAAA9H,EAAAoB,SAAA,oBAAA+G,EAAA,WACAL,EAAA9H,EAAAoB,SAAA,gBAAA8G,EAAA,GAGAhL,EAAA,SLkgBEkI,OAAQ,QKhgBV,YLigBEjC,KAAM,WACJ,GAAIqF,GAAO,uCAAuCC,QAAQ,QAAS,SAAUC,GAC3E,GAAIC,GAAoB,GAAhBC,KAAKC,SKhgBnB,CLkgBM,QADc,MAANH,EAAYC,EAAQ,EAAJA,EKhgB9B,GLigBeG,SKhgBf,KLkgBI,QK/fJN,OLigBMpK,SACEiI,SAAUhI,KAAKgI,WKhgBvB,ELigBQrH,SACEd,gBACEY,QAAS,WKhgBrB,GAAAQ,GAAAuD,UAAAjD,OAAA,OAAAmD,KAAAF,UAAA,GAAAA,UAAA,MLmgBkB1D,EAAUC,OAAO,sBKlgBnCE,ELmgBc,OAAIH,GACKyI,EAAoE5H,EAAEC,QKlgB7Fd,GLogBuByI,EAAoE5H,EAAEM,OKlgB7F,YLsgBUuD,OACE/E,QAAS,WKlgBrB,GAAAQ,GAAAuD,UAAAjD,OAAA,OAAAmD,KAAAF,UAAA,GAAAA,UAAA,MLqgBkB1D,EAAUC,OAAO,iBKpgBnCE,ELqgBc,OAAIH,GACKyI,EAAoE5H,EAAEC,QKpgB7Fd,GLsgBuByI,EAAoE5H,EAAEM,OKpgB7F,YLwgBUyI,WKpgBV,ELqgBU5J,SAAS,EACTF,SACE+J,UAAW,YKhgBvBR,OLugBES,YKngBFC,YAAAZ,EAAA,aLsgBE1C,QAAS,WACP,GAAItH,GKrgBRD,KLsgBQF,EAAQE,KAAKiI,MAAMC,OKrgB3BpI,KLsgBIE,MKrgBJ8K,eLsgBIhL,EAAMsI,GAAG,cAAe,SAAUE,GAChC,GAAIxD,GAAOhF,EKrgBjBiL,aLsgBM9K,GAAKoI,MAAM,QAASgB,IKrgB1BvE,OLygBEgE,OACE7H,MAAO,SAAe8H,EAAQC,GACvBA,GAAqB,KAAXA,GACbhJ,KKtgBR8K,iBL0gBEpD,SACEoD,aAAc,WACZ,GAAIhL,GAAQE,KAAKiI,MAAMC,OKtgB7BpI,MACAgF,MAAA,ELugBM,KACEA,EAAOkG,KAAKC,MAAMjL,KKtgB1BiB,OLugBQ,MAAOa,GACPgD,KAEFhF,EAAMoL,YKtgBZpG,OL6gBMqG,IACA,SAAU7M,EAAQC,KAMlB6M,IACA,SAAU9M,EAAQC,KAMlB8M,IACA,SAAU/M,EAAQC,KAMlB+M,IACA,SAAUhN,EAAQC,KAMlBgN,IACA,SAAUjN,EAAQC,KAMlBiN,IACA,SAAUlN,EAAQC,KAMlBkN,IACA,SAAUnN,EAAQC,KAMlBmN,IACA,SAAUpN,EAAQC,GM5qBxBD,EAAAC,SAAgBoN,OAAA,WAAmB,GAAAC,GAAA5L,KAAa6L,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAA,EAAA,gBACAE,IAAA,SACAC,OACAC,iBAAAP,EAAA5D,UAEAoE,OACArM,QAAA6L,EAAA7L,WAEGgM,EAAA,OACHM,YAAA,gBACAD,OACAE,GAAA,WAAAV,EAAAzB,MAEAoC,KAAA,YACGR,EAAA,QAAAA,EAAA,UACHM,YAAA,YACGT,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,cACGT,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,mBACGT,EAAAY,GAAA,KAAAT,EAAA,QAAAA,EAAA,UACHM,YAAA,WACAD,OACAnL,MAAA,MAEG2K,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,WACAD,OACAnL,MAAA,YAEG2K,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,WACAD,OACAnL,MAAA,WAEG2K,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,WACAD,OACAnL,MAAA,eAEG2K,EAAAY,GAAA,KAAAT,EAAA,QAAAA,EAAA,UACHM,YAAA,eACGT,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,aACGT,EAAAY,GAAA,KAAAT,EAAA,UACHM,YAAA,aACGT,EAAAY,GAAA,sBACFC,qBNkrBKC,IACA,SAAUpO,EAAQC,GOnuBxBD,EAAAC,SAAgBoN,OAAA,WAAmB,GAAAC,GAAA5L,KAAa6L,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAM,YAAA,iBACGT,EAAAe,GAAA,WAAAf,EAAAY,GAAA,KAAAT,EAAA,OACHE,IAAA,YACG,IACFQ,qBPyuBKG,IACA,SAAUtO,EAAQC,EAASC,GQhvBjC,QAAAC,GAAAC,GACAF,EAAA,KAEA,GAAAG,GAAAH,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEAC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SRuvBMsO,IACA,SAAUvO,EAAQO,EAAqBL,GAE7C,YACAwH,QAAOC,eAAepH,EAAqB,cAAgBoC,OAAO,GAC7C,IAAI6L,GAAmDtO,EAAoB,KACvEuO,EAA2DvO,EAAoBc,EAAEwN,ES5wB1GjO,GAAA,QAAekO,EAAf,KTkxBG","file":"static/js/classwin-editor.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(130)\n}\nvar Component = __webpack_require__(66)(\n  /* script */\n  __webpack_require__(109),\n  /* template */\n  __webpack_require__(155),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_quill__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_quill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_quill__);\n\n\n\n\nfunction findAncestor(el, cls) {\n  while ((el = el.parentElement) && !el.classList.contains(cls)) {}\n  return el;\n}\n\nvar EquationEditor = function () {\n  function EquationEditor(quill, options) {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, EquationEditor);\n\n    options = options || {};\n    var self = this;\n    this.quill = quill;\n    this.quill.root.addEventListener('click', this.handleClick.bind(this), false);\n    this.quill.root.parentNode.style.position = this.quill.root.parentNode.style.position || 'relative';\n    /* this.quill.theme.editTooltip = new EditTooltip(quill, options.bound) */\n    this.handler = options.handler;\n    this.quill.theme.modules.toolbar.handlers.formula = function () {\n      self.prompt();\n    };\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(EquationEditor, [{\n    key: 'prompt',\n    value: function prompt(curValue) {\n      curValue = curValue || '';\n      var self = this;\n      return this.handler(curValue).then(function (value) {\n        var range = self.quill.getSelection(true);\n        if (range != null) {\n          var index = range.index + range.length;\n          self.quill.insertEmbed(index, 'formula', value, 'user');\n          self.quill.insertText(index + 1, ' ', 'user');\n          self.quill.setSelection(index + 2, 'user');\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(value);\n        }\n      }).catch(function (e) {\n        // cancel\n        console.log(e);\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(e);\n      });\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(evt) {\n      var self = this;\n      var formularObj = findAncestor(evt.target, 'ql-formula');\n      var isFormula = formularObj !== null;\n      if (evt.target && isFormula && self.quill.isEnabled()) {\n        if (this.formularObj) {\n          // we were just focused on another formula\n          this.hide();\n        }\n        // clicked on an formula inside the editor\n        this.show(formularObj);\n      } else if (this.formularObj) {\n        // clicked on a non formula\n        this.hide();\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show(target) {\n      var self = this;\n      this.formularObj = target;\n      /* this.prompt(target.getAttribute('data-value')).then(() => {\n      }) */\n      var index = self.quill.getIndex(__WEBPACK_IMPORTED_MODULE_3_quill___default.a.find(self.formularObj)) + 1;\n      self.quill.setSelection(index, 0);\n      this.prompt(target.getAttribute('data-value')).then(function () {\n        self.quill.deleteText(index - 1, 1); // delete equation\n        self.quill.deleteText(index + 1, 1); // delete extra spacebar\n      }).catch(function (e) {\n        console.log(e);\n      });\n\n      // show ui\n    }\n  }, {\n    key: 'hide',\n    value: function hide(target) {\n      // hide ui\n      delete this.formularObj;\n    }\n  }]);\n\n  return EquationEditor;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (EquationEditor);\n\nif (window.Quill) {\n  window.Quill.register('modules/EquationEditor', EquationEditor);\n}\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(161);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get__ = __webpack_require__(159);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__ = __webpack_require__(160);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_quill__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_quill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_quill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot__);\n\n\n\n\n\n\n\n\n\nvar Embed = __WEBPACK_IMPORTED_MODULE_7_quill___default.a.import('blots/embed');\nvar Module = __WEBPACK_IMPORTED_MODULE_7_quill___default.a.import('core/module');\nvar icons = __WEBPACK_IMPORTED_MODULE_7_quill___default.a.import('ui/icons');\nicons['graph'] = '<i class=\"fa fa-line-chart\" aria-hidden=\"true\"></i>';\n\nfunction findAncestor(el, cls) {\n  while ((el = el.parentElement) && !el.classList.contains(cls)) {}\n  return el;\n}\n\nvar GraphBlot = function (_Embed) {\n  __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default()(GraphBlot, _Embed);\n\n  function GraphBlot() {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, GraphBlot);\n\n    return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this, (GraphBlot.__proto__ || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(GraphBlot)).apply(this, arguments));\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(GraphBlot, [{\n    key: 'index',\n    value: function index() {\n      return 1;\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n      var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 300;\n\n      var node = this.domNode;\n      var value = this.domNode.getAttribute('data-value');\n      console.log(node);\n      console.log(value);\n      try {\n        __WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot___default()({\n          target: node,\n          data: [{\n            fn: value,\n            sampler: 'builtIn', // this will make function-plot use the evaluator of math.js\n            graphType: 'polyline',\n            width: width,\n            height: height\n          }]\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get___default()(GraphBlot.__proto__ || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(GraphBlot), 'create', this).call(this, value);\n      node.style.display = 'inline-block';\n      if (typeof value === 'string') {\n        try {\n          __WEBPACK_IMPORTED_MODULE_8_imports_loader_window_math_mathjs_window_d3_d3_function_plot___default()({\n            target: node,\n            width: 300,\n            height: 300,\n            data: [{\n              fn: value,\n              sampler: 'builtIn', // this will make function-plot use the evaluator of math.js\n              graphType: 'polyline'\n            }]\n          });\n        } catch (err) {\n          console.log(err);\n        }\n        node.setAttribute('data-value', value);\n      }\n      node.setAttribute('contenteditable', false);\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return GraphBlot;\n}(Embed);\n\nGraphBlot.blotName = 'graph';\nGraphBlot.className = 'ql-graph';\nGraphBlot.tagName = 'SPAN';\n\nvar Graph = function (_Module) {\n  __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default()(Graph, _Module);\n\n  function Graph(quill, options) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, Graph);\n\n    options = options || {};\n\n    var _this2 = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this, (Graph.__proto__ || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(Graph)).call(this, quill, options));\n\n    var self = _this2;\n    _this2.quill = quill;\n    _this2.options = options;\n    _this2.quill.root.addEventListener('click', _this2.handleClick.bind(_this2), false);\n    _this2.handler = options.handler;\n    _this2.quill.theme.modules.toolbar.handlers.graph = function () {\n      self.prompt();\n    };\n    return _this2;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(Graph, [{\n    key: 'show',\n    value: function show(target) {\n      var self = this;\n      this.graphObj = target;\n      /* this.prompt(target.getAttribute('data-value')).then(() => {\n      }) */\n      var index = self.quill.getIndex(__WEBPACK_IMPORTED_MODULE_7_quill___default.a.find(self.graphObj)) + 1;\n      self.quill.setSelection(index, 0);\n      this.prompt(target.getAttribute('data-value')).then(function () {\n        self.quill.deleteText(index - 1, 1); // remove graph\n        self.quill.deleteText(index + 1, 1); // remove extra spacebar\n      }).catch(function (e) {\n        console.log(e);\n      });\n      // show ui\n    }\n  }, {\n    key: 'hide',\n    value: function hide(target) {\n      // hide ui\n    }\n  }, {\n    key: 'prompt',\n    value: function prompt(curValue) {\n      curValue = curValue || '';\n      var self = this;\n      return this.handler(curValue).then(function (value) {\n        var range = self.quill.getSelection(true);\n        if (range != null) {\n          var index = range.index + range.length;\n          self.quill.insertEmbed(index, 'graph', value, 'user');\n          self.quill.insertText(index + 1, ' ', 'user');\n          self.quill.setSelection(index + 2, 'user');\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(value);\n        }\n      }).catch(function (e) {\n        // cancel\n        console.log(e);\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(e);\n      });\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(evt) {\n      var self = this;\n      var graphObj = findAncestor(evt.target, 'ql-graph');\n      var isGraph = graphObj !== null;\n      if (evt.target && isGraph && self.quill.isEnabled()) {\n        if (this.graphObj === isGraph) {\n          // we are already focused on this formula\n          return;\n        }\n        if (this.graphObj) {\n          // we were just focused on another formula\n          this.hide();\n        }\n        // clicked on an formula inside the editor\n        this.show(graphObj);\n      } else if (this.graphObj) {\n        // clicked on a non formula\n        this.hide();\n      }\n    }\n  }], [{\n    key: 'register',\n    value: function register() {\n      console.log('Registering blot');\n      __WEBPACK_IMPORTED_MODULE_7_quill___default.a.register(GraphBlot, true);\n    }\n  }]);\n\n  return Graph;\n}(Module);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Graph);\n\nif (window.Quill) {\n  window.Quill.register('modules/Graph', Graph);\n}\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n\n__webpack_require__(129);\n__webpack_require__(127);\n__webpack_require__(128);\nif (!window.Quill) {\n  window.Quill = __webpack_require__(32);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'quill-editor',\n  data: function data() {\n    return {\n      _content: '',\n      defaultModules: {\n        toolbar: [['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block'], [{ 'header': 1 }, { 'header': 2 }], [{ 'list': 'ordered' }, { 'list': 'bullet' }], [{ 'script': 'sub' }, { 'script': 'super' }], [{ 'indent': '-1' }, { 'indent': '+1' }], [{ 'direction': 'rtl' }], [{ 'size': ['small', false, 'large', 'huge'] }], [{ 'header': [1, 2, 3, 4, 5, 6, false] }], [{ 'color': [] }, { 'background': [] }], [{ 'font': [] }], [{ 'align': [] }], ['clean'], ['link', 'image', 'video']]\n      }\n    };\n  },\n\n  props: {\n    content: String,\n    value: String,\n    disabled: Boolean,\n    options: {\n      type: Object,\n      required: false,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.initialize();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill = null;\n  },\n\n  methods: {\n    initialize: function initialize() {\n      if (this.$el) {\n\n        // options and instance\n        var self = this;\n        self.options.theme = self.options.theme || 'snow';\n        self.options.boundary = self.options.boundary || document.body;\n        self.options.modules = self.options.modules || self.defaultModules;\n        self.options.modules.toolbar = self.options.modules.toolbar !== undefined ? self.options.modules.toolbar : self.defaultModules.toolbar;\n        self.options.placeholder = self.options.placeholder || 'Insert text here ...';\n        self.options.readOnly = self.options.readOnly !== undefined ? self.options.readOnly : false;\n        self.quill = new Quill(self.$refs.editor, self.options);\n\n        // set editor content\n        if (self.value || self.content) {\n          self.quill.pasteHTML(self.value || self.content);\n        }\n\n        // mark model as touched if editor lost focus\n        self.quill.on('selection-change', function (range) {\n          if (!range) {\n            self.$emit('blur', self.quill);\n          } else {\n            self.$emit('focus', self.quill);\n          }\n        });\n\n        // update model if text changes\n        self.quill.on('text-change', function (delta, oldDelta, source) {\n          var html = self.$refs.editor.children[0].innerHTML;\n          var text = self.quill.getText();\n          if (html === '<p><br></p>') html = '';\n          self._content = html;\n          self.$emit('input', self._content);\n          self.$emit('change', {\n            editor: self.quill,\n            html: html,\n            text: text\n          });\n        });\n\n        // emit ready\n        self.$emit('ready', self.quill);\n      }\n    }\n  },\n  watch: {\n    'content': function content(newVal, oldVal) {\n      if (this.quill) {\n        if (!!newVal && newVal !== this._content) {\n          this._content = newVal;\n          this.quill.pasteHTML(newVal);\n        } else if (!newVal) {\n          this.quill.setText('');\n        }\n      }\n    },\n    'value': function value(newVal, oldVal) {\n      if (this.quill) {\n        if (!!newVal && newVal !== this._content) {\n          this._content = newVal;\n          this.quill.pasteHTML(newVal);\n        } else if (!newVal) {\n          this.quill.setText('');\n        }\n      }\n    },\n    'disabled': function disabled(newVal, oldVal) {\n      if (this.quill) {\n        this.quill.enable(!newVal);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(158);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_quill__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_quill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_quill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_katex__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_katex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_katex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modules_equationEditor__ = __webpack_require__(106);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modules_graph__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_quill_image_drop_module_image_drop_min_js__ = __webpack_require__(262);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_quill_image_drop_module_image_drop_min_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_quill_image_drop_module_image_drop_min_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_katex_dist_katex_min_css__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_katex_dist_katex_min_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_katex_dist_katex_min_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_font_awesome_css_font_awesome_css__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_font_awesome_css_font_awesome_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_font_awesome_css_font_awesome_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vue_quill_editor__ = __webpack_require__(265);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vue_quill_editor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_vue_quill_editor__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nwindow.katex = __WEBPACK_IMPORTED_MODULE_3_katex___default.a;\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_quill___default.a.register('modules/EquationEditor', __WEBPACK_IMPORTED_MODULE_4__modules_equationEditor__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_2_quill___default.a.register('modules/imageDrop', __WEBPACK_IMPORTED_MODULE_6_quill_image_drop_module_image_drop_min_js__[\"ImageDrop\"]);\n__WEBPACK_IMPORTED_MODULE_2_quill___default.a.register('modules/Graph', __WEBPACK_IMPORTED_MODULE_5__modules_graph__[\"a\" /* default */]);\n// mount with component(can't work in Nuxt.js/SSR)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['value', 'readOnly'],\n  data: function data() {\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0;\n      var v = c === 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n    return {\n      uuid: uuid,\n      options: {\n        readOnly: this.readOnly || false,\n        modules: {\n          EquationEditor: {\n            handler: function handler() {\n              var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n              var formula = prompt('Enter latex formula', value);\n              if (formula) {\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(formula);\n              } else {\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject('Cancel');\n              }\n            }\n          },\n          Graph: {\n            handler: function handler() {\n              var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n              var formula = prompt('Enter function', value);\n              if (formula) {\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(formula);\n              } else {\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject('Cancel');\n              }\n            }\n          },\n          imageDrop: true,\n          formula: true, // Include formula module\n          toolbar: {\n            container: '#toolbar-' + uuid\n          }\n        }\n      }\n    };\n  },\n\n  components: {\n    quillEditor: __WEBPACK_IMPORTED_MODULE_9_vue_quill_editor__[\"quillEditor\"]\n  },\n  mounted: function mounted() {\n    var self = this;\n    var quill = this.$refs.editor.quill;\n    this.updateEditor();\n    quill.on('text-change', function (delta) {\n      var data = quill.getContents();\n      self.$emit('input', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(data));\n    });\n  },\n\n  watch: {\n    value: function value(newVal, oldVal) {\n      if (!oldVal || oldVal === '') {\n        this.updateEditor();\n      }\n    }\n  },\n  methods: {\n    updateEditor: function updateEditor() {\n      var quill = this.$refs.editor.quill;\n      var data = void 0;\n      try {\n        data = JSON.parse(this.value);\n      } catch (e) {\n        data = [];\n      }\n      quill.setContents(data);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('quill-editor', {\n    ref: \"editor\",\n    class: {\n      'quill-readonly': _vm.readOnly\n    },\n    attrs: {\n      \"options\": _vm.options\n    }\n  }, [_c('div', {\n    staticClass: \"quill-toolbar\",\n    attrs: {\n      \"id\": (\"toolbar-\" + _vm.uuid)\n    },\n    slot: \"toolbar\"\n  }, [_c('span', [_c('button', {\n    staticClass: \"ql-bold\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-italic\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-underline\"\n  })]), _vm._v(\" \"), _c('span', [_c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"right\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"justify\"\n    }\n  })]), _vm._v(\" \"), _c('span', [_c('button', {\n    staticClass: \"ql-formula\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-image\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-graph\"\n  }, [_vm._v(\"graph\")])])])])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"quill-editor\"\n  }, [_vm._t(\"toolbar\"), _vm._v(\" \"), _c('div', {\n    ref: \"editor\"\n  })], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(131)\n}\nvar Component = __webpack_require__(66)(\n  /* script */\n  __webpack_require__(108),\n  /* template */\n  __webpack_require__(156),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Editor__ = __webpack_require__(105);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Editor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Editor__);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__components_Editor___default.a);\n\n/***/ })\n\n},[269]);\n\n\n// WEBPACK FOOTER //\n// static/js/classwin-editor.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03473444\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03473444\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor.vue\n// module id = 105\n// module chunks = 1 2","import Quill from 'quill'\nfunction findAncestor (el, cls) {\n  while ((el = el.parentElement) && !el.classList.contains(cls)) {\n  }\n  return el\n}\n\nexport default class EquationEditor {\n  constructor (quill, options) {\n    options = options || {}\n    let self = this\n    this.quill = quill\n    this.quill.root.addEventListener('click', this.handleClick.bind(this), false)\n    this.quill.root.parentNode.style.position = this.quill.root.parentNode.style.position || 'relative'\n    /* this.quill.theme.editTooltip = new EditTooltip(quill, options.bound) */\n    this.handler = options.handler\n    this.quill.theme.modules.toolbar.handlers.formula = () => {\n      self.prompt()\n    }\n  }\n  prompt (curValue) {\n    curValue = curValue || ''\n    let self = this\n    return this.handler(curValue).then((value) => {\n      let range = self.quill.getSelection(true)\n      if (range != null) {\n        let index = range.index + range.length\n        self.quill.insertEmbed(index, 'formula', value, 'user')\n        self.quill.insertText(index + 1, ' ', 'user')\n        self.quill.setSelection(index + 2, 'user')\n        return Promise.resolve(value)\n      }\n    }).catch((e) => {\n      // cancel\n      console.log(e)\n      return Promise.reject(e)\n    })\n  }\n  handleClick (evt) {\n    let self = this\n    let formularObj = findAncestor(evt.target, 'ql-formula')\n    let isFormula = formularObj !== null\n    if (evt.target && isFormula && self.quill.isEnabled()) {\n      if (this.formularObj) {\n        // we were just focused on another formula\n        this.hide()\n      }\n      // clicked on an formula inside the editor\n      this.show(formularObj)\n    } else if (this.formularObj) {\n      // clicked on a non formula\n      this.hide()\n    }\n  }\n  show (target) {\n    let self = this\n    this.formularObj = target\n    /* this.prompt(target.getAttribute('data-value')).then(() => {\n    }) */\n    let index = self.quill.getIndex(Quill.find(self.formularObj)) + 1\n    self.quill.setSelection(index, 0)\n    this.prompt(target.getAttribute('data-value')).then(() => {\n      self.quill.deleteText(index - 1, 1)// delete equation\n      self.quill.deleteText(index + 1, 1)// delete extra spacebar\n    }).catch((e) => {\n      console.log(e)\n    })\n\n    // show ui\n  }\n  hide (target) {\n    // hide ui\n    delete this.formularObj\n  }\n}\nif (window.Quill) {\n  window.Quill.register('modules/EquationEditor', EquationEditor)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/modules/equationEditor/index.js","import Quill from 'quill'\nimport functionPlot from 'imports-loader?window.math=mathjs,window.d3=d3!function-plot'\nvar Embed = Quill.import('blots/embed')\nvar Module = Quill.import('core/module')\nvar icons = Quill.import('ui/icons')\nicons['graph'] = '<i class=\"fa fa-line-chart\" aria-hidden=\"true\"></i>'\n\nfunction findAncestor (el, cls) {\n  while ((el = el.parentElement) && !el.classList.contains(cls)) {\n  }\n  return el\n}\nclass GraphBlot extends Embed {\n  static create (value) {\n    let node = super.create(value)\n    node.style.display = 'inline-block'\n    if (typeof value === 'string') {\n      try {\n        functionPlot({\n          target: node,\n          width: 300,\n          height: 300,\n          data: [{\n            fn: value,\n            sampler: 'builtIn',  // this will make function-plot use the evaluator of math.js\n            graphType: 'polyline'\n          }]\n        })\n      } catch (err) {\n        console.log(err)\n      }\n      node.setAttribute('data-value', value)\n    }\n    node.setAttribute('contenteditable', false)\n    return node\n  }\n\n  static value (domNode) {\n    return domNode.getAttribute('data-value')\n  }\n\n  index () {\n    return 1\n  }\n  resize (width = 500, height = 300) {\n    let node = this.domNode\n    let value = this.domNode.getAttribute('data-value')\n    console.log(node)\n    console.log(value)\n    try {\n      functionPlot({\n        target: node,\n        data: [{\n          fn: value,\n          sampler: 'builtIn',  // this will make function-plot use the evaluator of math.js\n          graphType: 'polyline',\n          width,\n          height\n        }]\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n}\nGraphBlot.blotName = 'graph'\nGraphBlot.className = 'ql-graph'\nGraphBlot.tagName = 'SPAN'\n\nexport default class Graph extends Module {\n  constructor (quill, options) {\n    options = options || {}\n    super(quill, options)\n    let self = this\n    this.quill = quill\n    this.options = options\n    this.quill.root.addEventListener('click', this.handleClick.bind(this), false)\n    this.handler = options.handler\n    this.quill.theme.modules.toolbar.handlers.graph = () => {\n      self.prompt()\n    }\n  }\n  static register () {\n    console.log('Registering blot')\n    Quill.register(GraphBlot, true)\n  }\n  show (target) {\n    let self = this\n    this.graphObj = target\n    /* this.prompt(target.getAttribute('data-value')).then(() => {\n    }) */\n    let index = self.quill.getIndex(Quill.find(self.graphObj)) + 1\n    self.quill.setSelection(index, 0)\n    this.prompt(target.getAttribute('data-value')).then(() => {\n      self.quill.deleteText(index - 1, 1) // remove graph\n      self.quill.deleteText(index + 1, 1) // remove extra spacebar\n    }).catch((e) => {\n      console.log(e)\n    })\n    // show ui\n  }\n  hide (target) {\n    // hide ui\n  }\n  prompt (curValue) {\n    curValue = curValue || ''\n    let self = this\n    return this.handler(curValue).then((value) => {\n      let range = self.quill.getSelection(true)\n      if (range != null) {\n        let index = range.index + range.length\n        self.quill.insertEmbed(index, 'graph', value, 'user')\n        self.quill.insertText(index + 1, ' ', 'user')\n        self.quill.setSelection(index + 2, 'user')\n        return Promise.resolve(value)\n      }\n    }).catch((e) => {\n      // cancel\n      console.log(e)\n      return Promise.reject(e)\n    })\n  }\n  handleClick (evt) {\n    let self = this\n    let graphObj = findAncestor(evt.target, 'ql-graph')\n    let isGraph = graphObj !== null\n    if (evt.target && isGraph && self.quill.isEnabled()) {\n      if (this.graphObj === isGraph) {\n        // we are already focused on this formula\n        return\n      }\n      if (this.graphObj) {\n        // we were just focused on another formula\n        this.hide()\n      }\n      // clicked on an formula inside the editor\n      this.show(graphObj)\n    } else if (this.graphObj) {\n      // clicked on a non formula\n      this.hide()\n    }\n  }\n}\nif (window.Quill) {\n  window.Quill.register('modules/Graph', Graph)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/modules/graph/index.js","<template>\r\n  <div class=\"quill-editor\">\r\n    <slot name=\"toolbar\"></slot>\r\n    <div ref=\"editor\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  require('quill/dist/quill.snow.css')\r\n  require('quill/dist/quill.bubble.css')\r\n  require('quill/dist/quill.core.css')\r\n  if (!window.Quill) {\r\n    window.Quill = require('quill/dist/quill.js')\r\n  }\r\n  export default {\r\n    name: 'quill-editor',\r\n    data() {\r\n      return {\r\n        _content: '',\r\n        defaultModules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'],\r\n            ['blockquote', 'code-block'],\r\n            [{ 'header': 1 }, { 'header': 2 }],\r\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n            [{ 'script': 'sub'}, { 'script': 'super' }],\r\n            [{ 'indent': '-1'}, { 'indent': '+1' }],\r\n            [{ 'direction': 'rtl' }],\r\n            [{ 'size': ['small', false, 'large', 'huge'] }],\r\n            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n            [{ 'color': [] }, { 'background': [] }],\r\n            [{ 'font': [] }],\r\n            [{ 'align': [] }],\r\n            ['clean'],\r\n            ['link', 'image', 'video']\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      content: String,\r\n      value: String,\r\n      disabled: Boolean,\r\n      options: {\r\n        type: Object,\r\n        required: false,\r\n        default() {\r\n          return {}\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initialize()\r\n    },\r\n    beforeDestroy() {\r\n      this.quill = null\r\n    },\r\n    methods: {\r\n      initialize() {\r\n        if (this.$el) {\r\n\r\n          // options and instance\r\n          var self = this\r\n          self.options.theme = self.options.theme || 'snow'\r\n          self.options.boundary = self.options.boundary || document.body\r\n          self.options.modules = self.options.modules || self.defaultModules\r\n          self.options.modules.toolbar = self.options.modules.toolbar !== undefined \r\n                                          ? self.options.modules.toolbar \r\n                                          : self.defaultModules.toolbar\r\n          self.options.placeholder = self.options.placeholder || 'Insert text here ...'\r\n          self.options.readOnly = self.options.readOnly !== undefined ? self.options.readOnly : false\r\n          self.quill = new Quill(self.$refs.editor, self.options)\r\n\r\n          // set editor content\r\n          if (self.value || self.content) {\r\n            self.quill.pasteHTML(self.value || self.content)\r\n          }\r\n\r\n          // mark model as touched if editor lost focus\r\n          self.quill.on('selection-change', (range) => {\r\n            if (!range) {\r\n              self.$emit('blur', self.quill)\r\n            } else {\r\n              self.$emit('focus', self.quill)\r\n            }\r\n          })\r\n\r\n          // update model if text changes\r\n          self.quill.on('text-change', (delta, oldDelta, source) => {\r\n            var html = self.$refs.editor.children[0].innerHTML\r\n            const text = self.quill.getText()\r\n            if (html === '<p><br></p>') html = ''\r\n            self._content = html\r\n            self.$emit('input', self._content)\r\n            self.$emit('change', {\r\n              editor: self.quill,\r\n              html: html,\r\n              text: text\r\n            })\r\n          })\r\n\r\n          // emit ready\r\n          self.$emit('ready', self.quill)\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      'content'(newVal, oldVal) {\r\n        if (this.quill) {\r\n          if (!!newVal && newVal !== this._content) {\r\n            this._content = newVal\r\n            this.quill.pasteHTML(newVal)\r\n          } else if(!newVal) {\r\n            this.quill.setText('')\r\n          }\r\n        }\r\n      },\r\n      'value'(newVal, oldVal) {\r\n        if (this.quill) {\r\n          if (!!newVal && newVal !== this._content) {\r\n            this._content = newVal\r\n            this.quill.pasteHTML(newVal)\r\n          } else if(!newVal) {\r\n            this.quill.setText('')\r\n          }\r\n        }\r\n      },\r\n      'disabled'(newVal, oldVal) {\r\n        if (this.quill) {\r\n          this.quill.enable(!newVal)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .quill-editor img {\r\n    max-width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// editor.vue?4fff1f98","<template>\n  <div>\n    <quill-editor :options=\"options\" ref=\"editor\" :class=\"{'quill-readonly': readOnly}\">\n      <div :id=\"`toolbar-${uuid}`\" slot=\"toolbar\" class=\"quill-toolbar\">\n        <span>\n          <button class=\"ql-bold\"></button>\n          <button class=\"ql-italic\"></button>\n          <button class=\"ql-underline\"></button>\n        </span>\n        <span>\n          <button class=\"ql-align\" value=\"\"></button>\n          <button class=\"ql-align\" value=\"center\"></button>\n          <button class=\"ql-align\" value=\"right\"></button>\n          <button class=\"ql-align\" value=\"justify\"></button>\n        </span>\n        <span>\n          <button class=\"ql-formula\"></button>\n          <button class=\"ql-image\"></button>\n          <button class=\"ql-graph\">graph</button>\n        </span>\n      </div>\n    </quill-editor>\n  </div>\n</template>\n<script>\nimport Quill from 'quill'\nimport katex from 'katex'\nwindow.katex = katex\nimport equationEditor from './modules/equationEditor'\nimport Graph from './modules/graph'\nimport { ImageDrop } from 'quill-image-drop-module/image-drop.min.js'\nimport 'katex/dist/katex.min.css'\nimport 'font-awesome/css/font-awesome.css'\nQuill.register('modules/EquationEditor', equationEditor)\nQuill.register('modules/imageDrop', ImageDrop)\nQuill.register('modules/Graph', Graph)\n// mount with component(can't work in Nuxt.js/SSR)\nimport {quillEditor} from 'vue-quill-editor'\nexport default {\n  props: ['value', 'readOnly'],\n  data () {\n    let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      let r = Math.random() * 16 | 0\n      let v = c === 'x' ? r : (r & 0x3 | 0x8)\n      return v.toString(16)\n    })\n    return {\n      uuid,\n      options: {\n        readOnly: this.readOnly || false,\n        modules: {\n          EquationEditor: {\n            handler (value = '') {\n              let formula = prompt('Enter latex formula', value)\n              if (formula) {\n                return Promise.resolve(formula)\n              } else {\n                return Promise.reject('Cancel')\n              }\n            }\n          },\n          Graph: {\n            handler (value = '') {\n              let formula = prompt('Enter function', value)\n              if (formula) {\n                return Promise.resolve(formula)\n              } else {\n                return Promise.reject('Cancel')\n              }\n            }\n          },\n          imageDrop: true,\n          formula: true,          // Include formula module\n          toolbar: {\n            container: `#toolbar-${uuid}`\n          }\n        }\n      }\n    }\n  },\n  components: {\n    quillEditor\n  },\n  mounted () {\n    let self = this\n    let quill = this.$refs.editor.quill\n    this.updateEditor()\n    quill.on('text-change', (delta) => {\n      let data = quill.getContents()\n      self.$emit('input', JSON.stringify(data))\n    })\n  },\n  watch: {\n    value (newVal, oldVal) {\n      if (!oldVal || oldVal === '') {\n        this.updateEditor()\n      }\n    }\n  },\n  methods: {\n    updateEditor () {\n      let quill = this.$refs.editor.quill\n      let data\n      try {\n        data = JSON.parse(this.value)\n      } catch (e) {\n        data = []\n      }\n      quill.setContents(data)\n    }\n  }\n}\n</script>\n<style lang='scss'>\n  .quill-readonly {\n    .quill-toolbar{\n      display:none !important;\n    }\n    .ql-container{\n      border: 0 !important;\n    }\n  }\n  .ql-editor{\n    img {\n      width: 300px !important;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Editor.vue?391654b9","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('quill-editor', {\n    ref: \"editor\",\n    class: {\n      'quill-readonly': _vm.readOnly\n    },\n    attrs: {\n      \"options\": _vm.options\n    }\n  }, [_c('div', {\n    staticClass: \"quill-toolbar\",\n    attrs: {\n      \"id\": (\"toolbar-\" + _vm.uuid)\n    },\n    slot: \"toolbar\"\n  }, [_c('span', [_c('button', {\n    staticClass: \"ql-bold\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-italic\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-underline\"\n  })]), _vm._v(\" \"), _c('span', [_c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"right\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-align\",\n    attrs: {\n      \"value\": \"justify\"\n    }\n  })]), _vm._v(\" \"), _c('span', [_c('button', {\n    staticClass: \"ql-formula\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-image\"\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"ql-graph\"\n  }, [_vm._v(\"graph\")])])])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-03473444\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n// module id = 155\n// module chunks = 1 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"quill-editor\"\n  }, [_vm._t(\"toolbar\"), _vm._v(\" \"), _c('div', {\n    ref: \"editor\"\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-489b6b8d\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-quill-editor/src/editor.vue\n// module id = 156\n// module chunks = 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-489b6b8d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./editor.vue\")\n}\nvar Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./editor.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-489b6b8d\\\"}!../../vue-loader/lib/selector?type=template&index=0!./editor.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-quill-editor/src/editor.vue\n// module id = 264\n// module chunks = 1 2","import Editor from './components/Editor'\nexport default Editor\n\n\n\n// WEBPACK FOOTER //\n// ./src/classwin-editor.js"],"sourceRoot":""}