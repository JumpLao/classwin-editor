webpackJsonp([2],{105:function(t,e,n){function i(t){n(130)}var l=n(66)(n(109),n(155),i,null,null);t.exports=l.exports},106:function(t,e,n){"use strict";function i(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}var l=n(56),o=n.n(l),r=n(82),a=n.n(r),u=n(83),s=n.n(u),c=n(32),d=n.n(c),h=function(){function t(e,n){a()(this,t),n=n||{};var i=this;this.quill=e,this.quill.root.addEventListener("click",this.handleClick.bind(this),!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.handler=n.handler,this.quill.theme.modules.toolbar.handlers.formula=function(){i.prompt()}}return s()(t,[{key:"prompt",value:function(t){t=t||"";var e=this;return this.handler(t).then(function(t){var n=e.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;return e.quill.insertEmbed(i,"formula",t,"user"),e.quill.insertText(i+1," ","user"),e.quill.setSelection(i+2,"user"),o.a.resolve(t)}}).catch(function(t){return console.log(t),o.a.reject(t)})}},{key:"handleClick",value:function(t){var e=this,n=i(t.target,"ql-formula"),l=null!==n;t.target&&l&&e.quill.isEnabled()?(this.formularObj&&this.hide(),this.show(n)):this.formularObj&&this.hide()}},{key:"show",value:function(t){var e=this;this.formularObj=t;var n=e.quill.getIndex(d.a.find(e.formularObj))+1;e.quill.setSelection(n,0),this.prompt(t.getAttribute("data-value")).then(function(){e.quill.deleteText(n-1,1),e.quill.deleteText(n+1,1)}).catch(function(t){console.log(t)})}},{key:"hide",value:function(t){delete this.formularObj}}]),t}();e.a=h,window.Quill&&window.Quill.register("modules/EquationEditor",h)},107:function(t,e,n){"use strict";function i(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}var l=n(56),o=n.n(l),r=n(110),a=n.n(r),u=n(82),s=n.n(u),c=n(83),d=n.n(c),h=n(161),f=n.n(h),p=n(159),v=n.n(p),g=n(160),m=n.n(g),b=n(32),q=n.n(b),x=n(181),y=n.n(x),_=q.a.import("blots/embed"),k=q.a.import("core/module");q.a.import("ui/icons").graph='<i class="fa fa-line-chart" aria-hidden="true"></i>';var w=function(t){function e(){return s()(this,e),f()(this,(e.__proto__||a()(e)).apply(this,arguments))}return m()(e,t),d()(e,[{key:"index",value:function(){return 1}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=this.domNode,i=this.domNode.getAttribute("data-value");console.log(n),console.log(i);try{y()({target:n,data:[{fn:i,sampler:"builtIn",graphType:"polyline",width:t,height:e}]})}catch(t){console.log(t)}}}],[{key:"create",value:function(t){var n=v()(e.__proto__||a()(e),"create",this).call(this,t);if(n.style.display="inline-block","string"==typeof t){try{y()({target:n,width:300,height:300,data:[{fn:t,sampler:"builtIn",graphType:"polyline"}]})}catch(t){console.log(t)}n.setAttribute("data-value",t)}return n.setAttribute("contenteditable",!1),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(_);w.blotName="graph",w.className="ql-graph",w.tagName="SPAN";var E=function(t){function e(t,n){s()(this,e),n=n||{};var i=f()(this,(e.__proto__||a()(e)).call(this,t,n)),l=i;return i.quill=t,i.options=n,i.quill.root.addEventListener("click",i.handleClick.bind(i),!1),i.handler=n.handler,i.quill.theme.modules.toolbar.handlers.graph=function(){l.prompt()},i}return m()(e,t),d()(e,[{key:"show",value:function(t){var e=this;this.graphObj=t;var n=e.quill.getIndex(q.a.find(e.graphObj))+1;e.quill.setSelection(n,0),this.prompt(t.getAttribute("data-value")).then(function(){e.quill.deleteText(n-1,1),e.quill.deleteText(n+1,1)}).catch(function(t){console.log(t)})}},{key:"hide",value:function(t){}},{key:"prompt",value:function(t){t=t||"";var e=this;return this.handler(t).then(function(t){var n=e.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;return e.quill.insertEmbed(i,"graph",t,"user"),e.quill.insertText(i+1," ","user"),e.quill.setSelection(i+2,"user"),o.a.resolve(t)}}).catch(function(t){return console.log(t),o.a.reject(t)})}},{key:"handleClick",value:function(t){var e=this,n=i(t.target,"ql-graph"),l=null!==n;if(t.target&&l&&e.quill.isEnabled()){if(this.graphObj===l)return;this.graphObj&&this.hide(),this.show(n)}else this.graphObj&&this.hide()}}],[{key:"register",value:function(){console.log("Registering blot"),q.a.register(w,!0)}}]),e}(k);e.a=E,window.Quill&&window.Quill.register("modules/Graph",E)},108:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(129),n(127),n(128),window.Quill||(window.Quill=n(32)),e.default={name:"quill-editor",data:function(){return{_content:"",defaultModules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}},props:{content:String,value:String,disabled:Boolean,options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null},methods:{initialize:function(){if(this.$el){var t=this;t.options.theme=t.options.theme||"snow",t.options.boundary=t.options.boundary||document.body,t.options.modules=t.options.modules||t.defaultModules,t.options.modules.toolbar=void 0!==t.options.modules.toolbar?t.options.modules.toolbar:t.defaultModules.toolbar,t.options.placeholder=t.options.placeholder||"Insert text here ...",t.options.readOnly=void 0!==t.options.readOnly&&t.options.readOnly,t.quill=new Quill(t.$refs.editor,t.options),(t.value||t.content)&&t.quill.pasteHTML(t.value||t.content),t.quill.on("selection-change",function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)}),t.quill.on("text-change",function(e,n,i){var l=t.$refs.editor.children[0].innerHTML,o=t.quill.getText();"<p><br></p>"===l&&(l=""),t._content=l,t.$emit("input",t._content),t.$emit("change",{editor:t.quill,html:l,text:o})}),t.$emit("ready",t.quill)}}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},109:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(158),l=n.n(i),o=n(56),r=n.n(o),a=n(32),u=n.n(a),s=n(185),c=n.n(s),d=n(106),h=n(107),f=n(262),p=(n.n(f),n(126)),v=(n.n(p),n(125)),g=(n.n(v),n(265));n.n(g);window.katex=c.a,u.a.register("modules/EquationEditor",d.a),u.a.register("modules/imageDrop",f.ImageDrop),u.a.register("modules/Graph",h.a),e.default={props:["value","readOnly"],data:function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});return{uuid:t,options:{readOnly:this.readOnly||!1,modules:{EquationEditor:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=prompt("Enter latex formula",t);return e?r.a.resolve(e):r.a.reject("Cancel")}},Graph:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=prompt("Enter function",t);return e?r.a.resolve(e):r.a.reject("Cancel")}},imageDrop:!0,formula:!0,toolbar:{container:"#toolbar-"+t}}}}},components:{quillEditor:g.quillEditor},mounted:function(){var t=this,e=this.$refs.editor.quill;this.updateEditor(),e.on("text-change",function(n){var i=e.getContents();t.$emit("input",l()(i))})},watch:{value:function(t,e){e&&""!==e||this.updateEditor()}},methods:{updateEditor:function(){var t=this.$refs.editor.quill,e=void 0;try{e=JSON.parse(this.value)}catch(t){e=[]}t.setContents(e)}}}},125:function(t,e){},126:function(t,e){},127:function(t,e){},128:function(t,e){},129:function(t,e){},130:function(t,e){},131:function(t,e){},155:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("quill-editor",{ref:"editor",class:{"quill-readonly":t.readOnly},attrs:{options:t.options}},[n("div",{staticClass:"quill-toolbar",attrs:{id:"toolbar-"+t.uuid},slot:"toolbar"},[n("span",[n("button",{staticClass:"ql-bold"}),t._v(" "),n("button",{staticClass:"ql-italic"}),t._v(" "),n("button",{staticClass:"ql-underline"})]),t._v(" "),n("span",[n("button",{staticClass:"ql-align",attrs:{value:""}}),t._v(" "),n("button",{staticClass:"ql-align",attrs:{value:"center"}}),t._v(" "),n("button",{staticClass:"ql-align",attrs:{value:"right"}}),t._v(" "),n("button",{staticClass:"ql-align",attrs:{value:"justify"}})]),t._v(" "),n("span",[n("button",{staticClass:"ql-formula"}),t._v(" "),n("button",{staticClass:"ql-image"}),t._v(" "),n("button",{staticClass:"ql-graph"},[t._v("graph")])])])])],1)},staticRenderFns:[]}},156:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),n("div",{ref:"editor"})],2)},staticRenderFns:[]}},264:function(t,e,n){function i(t){n(131)}var l=n(66)(n(108),n(156),i,null,null);t.exports=l.exports},269:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(105),l=n.n(i);e.default=l.a}},[269]);
//# sourceMappingURL=classwin-editor.js.map